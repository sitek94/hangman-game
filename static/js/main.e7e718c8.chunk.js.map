{"version":3,"sources":["utils/get-env.ts","config/index.ts","constants/content.ts","api/words.ts","components/Folk/Folk.tsx","components/GitHubCorner/GitHubCorner.tsx","components/Layout/Layout.tsx","components/LetterTiles/LetterTile/LetterTile.tsx","components/LetterTiles/LetterTiles.tsx","constants/game.ts","components/Modal/Modal.tsx","components/YouMissed/YouMissed.tsx","components/App/App.tsx","hooks/use-random-word.ts","index.tsx","mocks/server-handlers.ts","mocks/dev-worker.ts"],"names":["getEnv","name","value","process","Error","wordsApi","key","host","url","githubProfileUrl","isDevelopment","index","isMSWEnabled","Boolean","getBoolEnv","pathname","URL","pkg","homepage","project","repoUrl","screens","start","title","description","button","word","missedLetters","guessedLetters","gameWon","n","gameLost","loading","error","getRandomWord","a","params","URLSearchParams","random","limit","lettersMax","String","MAX_WORD_LENGTH","fetch","method","headers","response","json","folkParts","FolkContainer","children","className","Folk","visiblePartsCount","visibleParts","slice","map","part","GitHubCorner","href","target","rel","width","height","viewBox","d","fill","Layout","LetterTile","inactive","clsx","LetterTiles","wordLetters","padStart","split","letter","i","includes","Modal","buttonText","onButtonClick","noButton","onClick","YouMissed","join","App","React","isFirstGame","setIsFirstGame","usedLetters","setUsedLetters","setWord","status","setStatus","fetchRandomWord","fetchedWord","toUpperCase","console","randomWord","isIdle","isPending","isResolved","isRejected","useRandomWord","filter","l","isGameOver","length","isGameWon","every","handleKeyDown","test","concat","window","addEventListener","removeEventListener","startNewGame","location","require","worker","quiet","serviceWorker","ReactDOM","render","StrictMode","document","getElementById","main","words","serverHandlers","rest","get","req","res","ctx","searchParams","message","setupWorker"],"mappings":"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","file":"static/js/main.e7e718c8.chunk.js","sourcesContent":["/**\n * Simple helper and type guard to check if the ENV variable is actually defined\n */\nexport const getEnv = (name: string): string => {\n  const value = process.env[name];\n\n  if (!value) {\n    throw new Error(`Missing ENV variable: \"${name}\"`);\n  }\n\n  return value;\n};\n\nexport const getBoolEnv = (name: string): boolean => {\n  const value = getEnv(name);\n\n  if (value !== 'true' && value !== 'false') {\n    throw new Error(`\"${name}\" ENV variable has to be a boolean`);\n  }\n\n  return Boolean(value);\n};\n","import { getBoolEnv, getEnv } from 'utils/get-env';\n\nimport pkg from '../../package.json';\n\nconst index = process.env.NODE_ENV;\n\nexport const wordsApi = {\n  key: getEnv('REACT_APP_WORDS_API_KEY'),\n  host: getEnv('REACT_APP_WORDS_API_HOST'),\n  url: getEnv('REACT_APP_WORDS_API_URL'),\n};\n\nexport const githubProfileUrl = getEnv('REACT_APP_MY_PROFILE_URL');\n\nexport const isProduction = index === 'production';\nexport const isDevelopment = index === 'development';\nexport const isTest = index === 'test';\n\nexport const isMSWEnabled = getBoolEnv('REACT_APP_ENABLE_MSW');\n\nconst { pathname } = new URL(pkg.homepage);\n\nexport const project = {\n  name: pkg.name,\n  repoUrl: githubProfileUrl + '/' + pkg.name,\n  pathname,\n};\n","export const screens = {\n  start: {\n    title: 'Netguru Hangman',\n    description: 'This is a simple Hangman game, have fun and good luck!',\n    button: 'Start game',\n    word: 'HANGMAN',\n    missedLetters: ['B', 'D', 'E', 'Z', 'P', 'U', 'K', 'L', 'Q', 'W'],\n    guessedLetters: ['H', 'A'],\n  },\n  gameWon: {\n    title: 'You won!',\n    description: (n: number) => `Congratulations, you missed ${n} letters.`,\n    button: 'Play again',\n  },\n  gameLost: {\n    title: 'Game over',\n    description: '',\n    button: 'Try again',\n  },\n  loading: {\n    title: 'Loading...',\n  },\n  error: {\n    title: 'Oops',\n    description: 'Something went wrong, try refreshing the page.',\n  },\n};\n","import { wordsApi } from 'config';\n\nimport { MAX_WORD_LENGTH } from 'constants/game';\n\n/**\n * Get random word\n *\n * https://rapidapi.com/dpventures/api/wordsapi\n */\nexport async function getRandomWord() {\n  const params = new URLSearchParams({\n    // üèÜ The lead character of the show\n    random: 'true',\n    // By default Words API returns a bunch of results which are not needed\n    limit: '1',\n    // Words API doesn't count space as a character, so we need to take that\n    // into account\n    lettersMax: String(MAX_WORD_LENGTH - 1),\n  });\n\n  const response = await fetch(wordsApi.url + '/?' + params, {\n    method: 'GET',\n    headers: {\n      'x-rapidapi-key': wordsApi.key,\n      'x-rapidapi-host': wordsApi.host,\n    },\n  });\n  const { word } = await response.json();\n  if (typeof word === 'string') {\n    return word;\n  }\n  throw new Error(`‚ò†Ô∏è There something's wrong with the \"word\"`);\n}\n","import './Folk.scss';\n\nimport * as React from 'react';\n\n// Folk's parts are in the order that they are rendered\n// during the game.\nconst folkParts = [\n  'head',\n  'neck',\n  'corpus',\n  'arm arm--right',\n  'arm arm--left',\n  'hand hand--right',\n  'hand hand--left',\n  'leg leg--right',\n  'leg leg--left',\n  'foot foot--right',\n  'foot foot--left',\n];\n\ninterface FolkProps {\n  visiblePartsCount: number;\n}\n\nfunction Folk({ visiblePartsCount }: FolkProps) {\n  const visibleParts = folkParts.slice(0, visiblePartsCount);\n\n  return (\n    <FolkContainer>\n      <div className=\"folk\" data-testid=\"folk\">\n        {visibleParts.map(part => (\n          <div key={part} className={part} />\n        ))}\n      </div>\n    </FolkContainer>\n  );\n}\n\n/**\n * Wraps the folk and adds the bar so it's easier to position it\n */\nfunction FolkContainer({ children }: { children: React.ReactElement }) {\n  return (\n    <div className=\"folk-container\">\n      <div className=\"bar bar--horizontal\" />\n      <div className=\"bar bar--vertical\" />\n      {children}\n    </div>\n  );\n}\n\nexport default Folk;\n","import './GitHubCorner.scss';\n\nimport { project } from 'config';\n\n/**\n * GitHub Corner\n *\n * By Tim Holman: https://tholman.com/github-corners/\n */\nfunction GitHubCorner() {\n  return (\n    <a\n      href={project.repoUrl}\n      target=\"_blank\"\n      rel=\"noreferrer\"\n      className=\"github-corner\"\n      aria-label=\"View source on GitHub\"\n    >\n      <svg width=\"80\" height=\"80\" viewBox=\"0 0 250 250\" aria-hidden=\"true\">\n        <path d=\"M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z\" />\n        <path\n          d=\"M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2\"\n          fill=\"currentColor\"\n          className=\"octo-arm\"\n        />\n        <path\n          d=\"M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z\"\n          fill=\"currentColor\"\n          className=\"octo-body\"\n        />\n      </svg>\n    </a>\n  );\n}\n\nexport default GitHubCorner;\n","import './Layout.scss';\n\nimport * as React from 'react';\n\nimport GitHubCorner from 'components/GitHubCorner';\n\ninterface LayoutProps {\n  children: React.ReactNode;\n}\n\nfunction Layout({ children }: LayoutProps) {\n  return (\n    <div data-testid=\"layout\" className=\"layout\">\n      <GitHubCorner />\n      <div className=\"container\">{children}</div>\n    </div>\n  );\n}\n\nexport default Layout;\n","import './LetterTile.scss';\n\nimport * as React from 'react';\nimport clsx from 'clsx';\n\ninterface LetterProps {\n  inactive?: boolean;\n  children: React.ReactNode;\n}\n\nfunction LetterTile({ inactive, children }: LetterProps) {\n  return (\n    <div\n      aria-label={inactive ? 'Inactive letter tile' : 'Active letter tile'}\n      data-testid=\"letter-tile\"\n      className={clsx('letter-tile', inactive && 'inactive')}\n    >\n      {children}\n    </div>\n  );\n}\n\nexport default LetterTile;\n","import './LetterTiles.scss';\n\nimport { MAX_WORD_LENGTH } from 'constants/game';\n\nimport LetterTile from './LetterTile';\n\ninterface LettersProps {\n  word: string;\n  guessedLetters: string[];\n}\n\nfunction LetterTiles({ word, guessedLetters }: LettersProps) {\n  const wordLetters = word\n    // Pad the word when its length is less than max length\n    .padStart(MAX_WORD_LENGTH)\n    .split('');\n\n  return (\n    <div className=\"letter-tiles\" data-testid=\"letter-tiles\">\n      {wordLetters.map((letter, i) => (\n        <LetterTile key={i} inactive={letter === ' '}>\n          {guessedLetters.includes(letter) || letter === '-' ? letter : null}\n        </LetterTile>\n      ))}\n    </div>\n  );\n}\n\nexport default LetterTiles;\n","/**\n * How long the word can be. It determines how many letter tiles we're going to\n * show.\n */\nexport const MAX_WORD_LENGTH = 11;\n\n/**\n * After how many tries the game is lost (it's basically the number of\n * folk's parts.\n */\nexport const MAX_MISSED_LETTERS = 11;\n","import './Modal.scss';\n\ninterface CommonModalProps {\n  title: string;\n  description?: string;\n}\n\ntype ButtonModalProps =\n  | {\n      noButton?: never;\n      buttonText: string;\n      onButtonClick: () => void;\n    }\n  | {\n      noButton: true;\n      buttonText?: never;\n      onButtonClick?: never;\n    };\n\ntype ModalProps = CommonModalProps & ButtonModalProps;\n\nfunction Modal({\n  title,\n  description,\n  buttonText,\n  onButtonClick,\n  noButton,\n}: ModalProps) {\n  return (\n    <div className=\"modal\">\n      <h1 className=\"title\">{title}</h1>\n      {description && <p className=\"description\">{description}</p>}\n      {!noButton && (\n        <button className=\"button\" onClick={onButtonClick}>\n          {buttonText}\n        </button>\n      )}\n    </div>\n  );\n}\n\nexport default Modal;\n","import './YouMissed.scss';\n\ninterface YouMissedProps {\n  missedLetters: string[];\n}\n\nfunction YouMissed({ missedLetters }: YouMissedProps) {\n  return (\n    <div className=\"you-missed\">\n      <div className=\"title\">You missed:</div>\n      <div data-testid=\"missed-letters\" className=\"missed-letters\">\n        {missedLetters.join(' ')}\n      </div>\n    </div>\n  );\n}\n\nexport default YouMissed;\n","import * as React from 'react';\n\nimport { screens } from 'constants/content';\nimport { MAX_MISSED_LETTERS } from 'constants/game';\nimport { useRandomWord } from 'hooks/use-random-word';\nimport Folk from 'components/Folk';\nimport Layout from 'components/Layout';\nimport LetterTiles from 'components/LetterTiles';\nimport Modal from 'components/Modal';\nimport YouMissed from 'components/YouMissed';\n\nfunction App() {\n  const [isFirstGame, setIsFirstGame] = React.useState(true);\n  const [usedLetters, setUsedLetters] = React.useState<string[]>([]);\n  const { randomWord, fetchRandomWord, isPending, isResolved, isRejected } =\n    useRandomWord();\n\n  const missedLetters = usedLetters.filter(l => !randomWord.includes(l));\n  const guessedLetters = usedLetters.filter(l => randomWord.includes(l));\n\n  // Game is lost when player user reached steps limit\n  const isGameOver = missedLetters.length === MAX_MISSED_LETTERS;\n\n  // Game is won when each letter of the random word can be found\n  // among the guessed letters\n  const isGameWon = randomWord.split('').every(l => guessedLetters.includes(l));\n\n  // Add/remove key down event listener\n  React.useEffect(() => {\n    const handleKeyDown = ({ key }: KeyboardEvent) => {\n      // Pressed key is not alphabetical\n      if (!/^[a-z]$/i.test(key)) {\n        return;\n      }\n\n      // Pressed key been used already\n      if (usedLetters.includes(key.toUpperCase())) {\n        return;\n      }\n\n      // One of the screens `initial`, `game-won`, `game-over`, `loading`,\n      // `error` is shown\n      if (isFirstGame || isGameWon || isGameOver || isPending || isRejected) {\n        return;\n      }\n\n      setUsedLetters(usedLetters.concat(key.toUpperCase()));\n    };\n\n    window.addEventListener('keydown', handleKeyDown);\n\n    return () => {\n      window.removeEventListener('keydown', handleKeyDown);\n    };\n  }, [usedLetters, isFirstGame, isGameWon, isGameOver, isPending, isRejected]);\n\n  // Fetches new word and resets the used letters\n  const startNewGame = () => {\n    setUsedLetters([]);\n    fetchRandomWord();\n  };\n\n  // Starts the first game\n  const startFirstGame = () => {\n    setIsFirstGame(false);\n  };\n\n  // Initial game screen\n  if (isFirstGame) {\n    return (\n      <Layout>\n        <Modal\n          title={screens.start.title}\n          description={screens.start.description}\n          buttonText={screens.start.button}\n          onButtonClick={startFirstGame}\n        />\n        <Folk visiblePartsCount={11} />\n        <YouMissed missedLetters={screens.start.missedLetters} />\n        <LetterTiles\n          word={screens.start.word}\n          guessedLetters={screens.start.guessedLetters}\n        />\n      </Layout>\n    );\n  }\n\n  // When the word is too long, before new one is fetched use empty string\n  // to so that <LetterTile> is semi-transparent\n  // const word = randomWord.length > MAX_WORD_LENGTH ? '' : randomWord;\n\n  // After the initial game\n  return (\n    <Layout>\n      {/* Loading screen */}\n      {isPending && <Modal title={screens.loading.title} noButton />}\n\n      {/* Error screen */}\n      {isRejected && (\n        <Modal\n          title={screens.error.title}\n          description={screens.error.description}\n          noButton\n        />\n      )}\n\n      {/* Game over screen */}\n      {isResolved && isGameOver && (\n        <Modal\n          title={screens.gameLost.title}\n          buttonText={screens.gameLost.button}\n          onButtonClick={startNewGame}\n        />\n      )}\n\n      {/* Game won screen */}\n      {isResolved && isGameWon && (\n        <Modal\n          title={screens.gameWon.title}\n          buttonText={screens.gameWon.button}\n          description={screens.gameWon.description(missedLetters.length)}\n          onButtonClick={startNewGame}\n        />\n      )}\n\n      <Folk visiblePartsCount={missedLetters.length} />\n      <YouMissed missedLetters={missedLetters} />\n      <LetterTiles word={randomWord} guessedLetters={guessedLetters} />\n    </Layout>\n  );\n}\n\nexport default App;\n","import * as React from 'react';\n\nimport { getRandomWord } from 'api/words';\n\ntype Status = 'idle' | 'pending' | 'resolved' | 'rejected';\n\nexport function useRandomWord() {\n  const [word, setWord] = React.useState('');\n  const [status, setStatus] = React.useState<Status>('idle');\n\n  // Fetches random world from WordsAPI\n  const fetchRandomWord = React.useCallback(async () => {\n    setStatus('pending');\n\n    try {\n      const fetchedWord = await getRandomWord();\n      setStatus('resolved');\n      setWord(fetchedWord.toUpperCase());\n    } catch (e) {\n      setStatus('rejected');\n\n      console.error(e);\n    }\n  }, []);\n\n  // Initial fetch\n  React.useEffect(() => {\n    fetchRandomWord();\n  }, [fetchRandomWord]);\n\n  return {\n    status,\n    fetchRandomWord,\n    randomWord: word,\n    isIdle: status === 'idle',\n    isPending: status === 'pending',\n    isResolved: status === 'resolved',\n    isRejected: status === 'rejected',\n  };\n}\n","import 'assets/fonts/fonts.scss';\nimport 'assets/sass/index.scss';\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { isDevelopment, isMSWEnabled, project } from 'config';\n\nimport App from 'components/App/App';\n\nasync function main() {\n  // Conditionally enable Mock Service Worker\n  if (isDevelopment && isMSWEnabled) {\n    // Make sure that your url is rewriten to use / at the end of the pathname.\n    // https://mswjs.io/docs/getting-started/integrate/browser#using-homepage-property-in-packagejson\n    if (window.location.pathname === project.pathname) {\n      window.location.pathname = project.pathname + '/';\n      return;\n    }\n    const { worker } = require('./mocks/dev-worker');\n\n    await worker.start({\n      quiet: true,\n      serviceWorker: {\n        url: project.pathname + '/mockServiceWorker.js',\n      },\n    });\n  }\n\n  ReactDOM.render(\n    <React.StrictMode>\n      <App />\n    </React.StrictMode>,\n    document.getElementById('root'),\n  );\n}\n\nmain();\n","import { wordsApi } from 'config';\nimport { rest } from 'msw';\n\nlet index = 0;\nexport const words = [\n  'lotr',\n  'ale',\n  'pozdro',\n  'aaaa',\n  'hello',\n  'primary',\n  'secondary',\n];\n\nexport const serverHandlers = [\n  rest.get(wordsApi.url, (req, res, ctx) => {\n    const query = req.url.searchParams;\n    const random = query.get('random');\n\n    if (random) {\n      /**\n       * On each request gets next word from the list. When no more words, starts from\n       * the beginning.\n       */\n      const word = words[index++ % words.length];\n\n      return res(\n        ctx.json({\n          word,\n        }),\n      );\n    }\n\n    return res(\n      ctx.status(400),\n      ctx.json({\n        message: 'Invalid request',\n      }),\n    );\n  }),\n];\n\nexport const getRandomWordMock = {\n  mockSuccess(word: string) {\n    return rest.get(wordsApi.url, (req, res, ctx) => {\n      return res(\n        ctx.json({\n          word,\n        }),\n      );\n    });\n  },\n  mockSuccesses(words: string[]) {\n    let index = 0;\n\n    return rest.get(wordsApi.url, (req, res, ctx) => {\n      const word = words[index++ % words.length];\n      return res(\n        ctx.json({\n          word,\n        }),\n      );\n    });\n  },\n  mockError() {\n    return rest.get(wordsApi.url, (req, res, ctx) => {\n      return res(ctx.status(400), ctx.json({ message: 'Error' }));\n    });\n  },\n};\n","import { serverHandlers } from 'mocks/server-handlers';\nimport { setupWorker } from 'msw';\n\n// SetupWorkerAPI - used when running in DEV env\n// Setup requests interception using the given serverHandlers.\nexport const worker = setupWorker(...serverHandlers);\n"],"sourceRoot":""}